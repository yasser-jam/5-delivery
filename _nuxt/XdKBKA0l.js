import{d as f}from"./D-OOxkXE.js";import{h as g}from"./Ci3h0HOg.js";import{a as l}from"./B3g41LjN.js";import{a}from"./DalfggxQ.js";import{c as i}from"./BD5YuzA9.js";const M=f("driver",()=>{const r=g(),v=i([{key:"name",sortable:!1,title:"Name"},{key:"phonenumber",sortable:!1,title:"Phone Number"},{key:"status",sortable:!1,title:"Status"},{key:"actions",sortable:!1,title:"",align:"end"}]),s=i(l()),o=i([]),d=()=>s.value=l(),c=async()=>{const e=await a("/auth/getDeliveryWorker");return o.value=e,o.value},y=async()=>{const e=await a("/auth/getActiveDeliveryWorkers");return o.value=e,o.value},h=async e=>{var u;const t=await a(`/auth/getUserInfo/${e}`);return s.value=(u=t==null?void 0:t.user)==null?void 0:u[0],s.value.complaints=t==null?void 0:t.complaints,s.value},m=async e=>{await a(`/auth/updateDelivery/${e}`,{method:"POST",body:s.value}),await c(),r.showSuccessMsg("Driver Updated Successfully!")},S=async()=>{await a("/auth/AddAccountDelivery",{method:"POST",body:s.value}),await c(),r.showSuccessMsg("Driver Created Successfully!")},w=async e=>{await a(`/auth/Cancel_delivery_worker/${e}`,{method:"POST"}),await c(),r.showSuccessMsg("Driver Removed Successfully!")},n=i({});return{driver:s,drivers:o,driverAddress:n,headers:v,reset:d,listActive:y,list:c,get:h,update:m,create:S,remove:w,getPosition:async e=>{const t=await a(`/auth/getDeliveryAddresses/${e}`);return n.value=t==null?void 0:t[0],n.value},activate:async e=>{await a(`/auth/Set_available/${e}`,{method:"POST"}),r.showSuccessMsg("تم تفعيل السائق بنجاح")},deactivate:async e=>{await a(`/auth/Set_not_available/${e}`,{method:"POST"}),r.showSuccessMsg("تم إلغاء تفعيل السائق بنجاح")}}});export{M as u};
