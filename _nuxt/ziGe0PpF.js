import{a as w,u as F,s as D,n as v,F as U,b as $,c as h,e as B}from"./C7DhVHKC.js";import{_ as R}from"./Dwcx6bRq.js";import{u as S}from"./CjLoYUk2.js";import{u as E}from"./CjBeFTg7.js";import{a as L,V as n}from"./CyTdk8aQ.js";import{V as u}from"./DOgYvipI.js";import{V as b}from"./DDeKxyLY.js";import{m as W,c as j,N as V,P as y,W as s,$ as x,o as a,u as o,q as p,a9 as N,Z as m}from"./BD5YuzA9.js";import"./DwTu0TCJ.js";import"./B3blWL1e.js";import"./Qt6t38Uq.js";import"./BKiVLb4-.js";import"./3WJmsLTF.js";import"./DMpW9UZo.js";import"./CPOveElg.js";import"./DWGaNmQL.js";import"./Bcch_yve.js";import"./B3g41LjN.js";import"./BNV3nxFm.js";const z=m("div",{class:"text-sm text-gray-900"},"Name",-1),A=m("div",{class:"text-sm text-gray-900"},"Email",-1),I=m("div",{class:"text-sm text-gray-900"},"Phone Number",-1),M=m("div",{class:"text-sm text-gray-900"},"Password",-1),Z=m("div",{class:"text-sm text-gray-900"},"Confirm Password",-1),G={class:"flex justify-end gap-2 mt-4"},ce=W({__name:"[driver_id]",setup(H){w("required",h),w("email",B);const C=F(),d=S(),{driver:t}=D(d),_=j(!1),g=C.params.driver_id,c=g!="create",{pending:q}=E(()=>c?d.get(Number(g)):(d.reset(),Promise.resolve({})),"$vWrkPELmga"),T=async()=>{_.value=!0;try{c?await d.update(Number(g)):await d.create()}finally{_.value=!1,v("/drivers")}};return(f,r)=>{const i=U,P=$,k=R;return V(),y(k,{loading:o(q),"model-value":!0,onClose:r[6]||(r[6]=l=>("navigateTo"in f?f.navigateTo:o(v))("/drivers"))},{title:s(()=>[x("Create Driver")]),body:s(()=>[a(P,{onSubmit:T},{default:s(({errors:l})=>[a(L,null,{default:s(()=>[a(n,{cols:"12",class:"pb-0"},{default:s(()=>[z,a(i,{modelValue:o(t).name,"onUpdate:modelValue":r[0]||(r[0]=e=>o(t).name=e),name:"name",rules:"required"},{default:s(({field:e})=>[a(u,p(e,{density:"compact",placeholder:"Driver Name","error-messages":l.name}),null,16,["error-messages"])]),_:2},1032,["modelValue"])]),_:2},1024),a(n,{cols:"12",md:"6",class:"pb-0"},{default:s(()=>[A,a(i,{modelValue:o(t).email,"onUpdate:modelValue":r[1]||(r[1]=e=>o(t).email=e),name:"email",rules:"required|email"},{default:s(({field:e})=>[a(u,p(e,{density:"compact",placeholder:"Driver Email","error-messages":l.email}),null,16,["error-messages"])]),_:2},1032,["modelValue"])]),_:2},1024),a(n,{cols:"12",md:"6",class:"pb-0"},{default:s(()=>[I,a(i,{modelValue:o(t).phone,"onUpdate:modelValue":r[2]||(r[2]=e=>o(t).phone=e),name:"phone",rules:"required|min:10|numeric"},{default:s(({field:e})=>[a(u,p(e,{density:"compact",placeholder:"09xxxxxxxx","error-messages":l.phone}),null,16,["error-messages"])]),_:2},1032,["modelValue"])]),_:2},1024),c?N("",!0):(V(),y(n,{key:0,cols:"12",md:"6",class:"pb-0"},{default:s(()=>[M,a(i,{modelValue:o(t).password,"onUpdate:modelValue":r[3]||(r[3]=e=>o(t).password=e),name:"password",rules:"required|min:5"},{default:s(({field:e})=>[a(u,p(e,{density:"compact",type:"password",placeholder:"********","error-messages":l.password}),null,16,["error-messages"])]),_:2},1032,["modelValue"])]),_:2},1024)),c?N("",!0):(V(),y(n,{key:1,cols:"12",md:"6",class:"pb-0"},{default:s(()=>[Z,a(i,{modelValue:o(t).password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=e=>o(t).password_confirmation=e),name:"password_confirmation",rules:{required:!0,is:o(t).password}},{default:s(({field:e})=>[a(u,p(e,{density:"compact",type:"password",placeholder:"********","error-messages":l.password_confirmation}),null,16,["error-messages"])]),_:2},1032,["modelValue","rules"])]),_:2},1024))]),_:2},1024),m("div",G,[a(b,{variant:"text",color:"grey",onClick:r[5]||(r[5]=e=>("navigateTo"in f?f.navigateTo:o(v))("/drivers"))},{default:s(()=>[x("Close")]),_:1}),a(b,{color:"secondary",type:"submit",loading:o(_)},{default:s(()=>[x("Save")]),_:1},8,["loading"])])]),_:1})]),_:1},8,["loading"])}}});export{ce as default};
